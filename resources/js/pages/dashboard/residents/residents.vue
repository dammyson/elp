<template>
  <div class="">
    <b-modal id="MoreDetails" size="xl" title="MoreDetails">
      <p class="my-4">Hello from modal!</p>
      <b-tabs content-class="mt-3">
        <b-tab title="Details" active>
          <b-container class="bv-example-row">
            <b-row>
              <b-col>
                <img src="https://i.pravatar.cc/300" alt="" class="rounded">
              </b-col>
              <b-col cols="8">
                <b-card>
                  <h4 class="mb-4">Personal Details</h4>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">first name</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">middle name</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>

                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">last name</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>

                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">nick name</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>

                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Date Of Birth</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Mobile Phone</h5>
                      <h5 class="capitalize text-sm ext-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Home phone</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">email</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                  </b-row>
                </b-card>
              </b-col>
            </b-row>
          </b-container>
        </b-tab>
        <b-tab title="Insurance">
          <b-container class="">
            <b-row>
              <b-col cols="10">
                <b-card>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Primary Insurance Company</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Policy Number</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>

                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Group</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>

                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Secondary Insurance Company</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Policy Number</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>

                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Group</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>

                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Access</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">LSS</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>

                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Medical Assistance</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>

                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Medicare</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Part A</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Part B</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <b-row class="mb-4">
                        <b-col>
                          <h5 class="capitalize text-xs text-gray-500">Special 65</h5>
                          <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                        </b-col>
                      </b-row>
                      <b-row class="mb-4">
                        <b-col>
                          <h5 class="capitalize text-xs text-gray-500">Medicaid</h5>
                          <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                        </b-col>
                      </b-row>
                      <b-row class="mb-4">
                        <b-col>
                          <h5 class="capitalize text-xs text-gray-500">BSU</h5>
                          <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                        </b-col>
                      </b-row>
                      <b-row class="mb-4">
                        <b-col>
                          <h5 class="capitalize text-xs text-gray-500">Pace</h5>
                          <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                        </b-col>
                      </b-row>
                      <b-row class="mb-4">
                        <b-col>
                          <h5 class="capitalize text-xs text-gray-500">Other</h5>
                          <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                        </b-col>
                      </b-row>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">VA</h5>
                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <h3 class="capitalize text-lg text-gray-700">Medicare Part D</h3>
                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">member id</h5>
                      <h5 class="capitalize text-sm text-gray-700">rx group</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">rx bin</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">rx pcn</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">issuer</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                  </b-row>
                </b-card>
              </b-col>
            </b-row>
          </b-container>
        </b-tab>
        <b-tab title="Contact">
          <b-container>
            <b-row class="mb-4">
              <b-col cols="6" class="">
                <b-card>
                  <b-row class="mb-4">
                    <b-col>
                      <h3 class="capitalize text-lg text-gray-700">Personal</h3>
                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Name</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Email</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">phone number</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">mobile number</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">state</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">city</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">address</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                  </b-row>
                </b-card>
              </b-col>
              <b-col cols="6" class="">
                <b-card>
                  <b-row class="mb-4">
                    <b-col>
                      <h3 class="capitalize text-lg text-gray-700">physicain</h3>
                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Name</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Email</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">phone number</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">mobile number</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">state</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">city</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">address</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                  </b-row>
                </b-card>
              </b-col>
            </b-row>
            <b-row class="mb-4">
              <b-col cols="6">
                <b-card>
                  <b-row class="mb-4">
                    <b-col>
                      <h3 class="capitalize text-lg text-gray-700">preffreces</h3>
                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Name</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">Email</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">phone number</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">mobile number</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">state</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">city</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                  </b-row>
                  <b-row class="mb-4">
                    <b-col>
                      <h5 class="capitalize text-xs text-gray-500">address</h5>
                      <h5 class="capitalize text-sm text-gray-700">placeholder</h5>
                    </b-col>
                  </b-row>
                </b-card>
              </b-col>
            </b-row>
          </b-container>
        </b-tab>
        <b-tab title="Health">
          <b-tabs content-class="mt-3">
            <b-tab title="Medications/Treatments">
              <b-container>
                <b-row>
                  <b-col>
                    <h4 class="">Current</h4>
                  </b-col>
                </b-row>
                <b-row>
                  <b-col class="mt-4">
                    <b-card>
                      <b-table striped responsive hover :items="medications" />
                    </b-card>
                  </b-col>
                </b-row>
                <b-row>
                  <b-col class="mt-4">
                    <h4 class="">History</h4>
                  </b-col>
                </b-row>
                <b-row>
                  <b-col class="mt-4">
                    <b-card>
                      <b-table striped responsive hover :items="medications" />
                    </b-card>
                  </b-col>
                </b-row>
              </b-container>
            </b-tab>
          </b-tabs>
        </b-tab>
      </b-tabs>
    </b-modal>
    <b-modal id="AddContacts" title="BootstrapVue">
      <b-container>
        <b-row class="mb-4">
          <b-col>
            <h3 class="capitalize text-lg text-gray-700">Add Contact</h3>
          </b-col>
        </b-row>
        <b-row class="mb-4">
          <b-col>
            <b-form-select :options="contact" />
          </b-col>
        </b-row>
        <b-row class="mb-4">
          <b-col>
            <b-form-group
              id="fieldset-1"
              label="First Name"
              label-for="role"
            >
              <b-form-input id="Name" type="text" />
            </b-form-group>
          </b-col>
        </b-row>
        <b-row class="mb-4">
          <b-col>
            <b-form-group
              id="fieldset-1"
              label="Last Name"
              label-for="role"
            >
              <b-form-input id="Name" type="text" />
            </b-form-group>
          </b-col>
        </b-row>
        <b-row class="mb-4">
          <b-col>
            <b-form-group
              id="fieldset-1"
              label="State"
              label-for="role"
            >
              <b-form-input id="Name" type="text" />
            </b-form-group>
          </b-col>
        </b-row>
        <b-row class="mb-4">
          <b-col>
            <b-form-group
              id="fieldset-1"
              label="City"
              label-for="role"
            >
              <b-form-input id="Name" type="text" />
            </b-form-group>
          </b-col>
        </b-row>
        <b-row class="mb-4">
          <b-col>
            <b-form-group
              id="fieldset-1"
              label="Address"
              label-for="role"
            >
              <b-form-textarea />
            </b-form-group>
          </b-col>
        </b-row>
      </b-container>
    </b-modal>
    <b-modal id="EditResident" size="xl" title="BootstrapVue">
      <p class="my-4">Hello from modal!</p>
    </b-modal>
    <b-modal id="AddMedication" size="xl" title="Add Medication">
      <b-container>
        <b-row>
          <b-col>
            <b-card>
              <b-row>
                <b-col>
                  <b-form-group
                    id="fieldset-1"
                    label="Name"
                    label-for="role"
                  >
                    <b-form-input id="Name" type="text" />
                  </b-form-group>
                </b-col>
              </b-row>
              <b-row>
                <b-col>
                  <b-row>
                    <b-col>
                      <b-form-group
                        id="fieldset-1"
                        label="Start Date"
                        label-for="role"
                      >
                        <b-form-input id="Name" type="date" />
                      </b-form-group>
                    </b-col>
                    <b-col>
                      <b-form-group
                        id="fieldset-1"
                        label="Start time"
                        label-for="role"
                      >
                        <b-form-input id="Name" type="time" />
                      </b-form-group>
                    </b-col>
                  </b-row>
                  <b-row>
                    <b-col>
                      <b-form-group
                        id="fieldset-1"
                        label="Stop Reason"
                        label-for="role"
                      >
                        <b-form-input id="Name" type="text" />
                      </b-form-group>
                    </b-col>
                    <b-col>
                      <b-form-group
                        id="fieldset-1"
                        label="Quantity"
                        label-for="role"
                      >
                        <b-form-input id="Name" type="text" />
                      </b-form-group>
                    </b-col>
                  </b-row>
                  <b-row>
                    <b-col>
                      <b-form-group
                        id="fieldset-1"
                        label="Allegies reference"
                        label-for="role"
                      >
                        <b-form-textarea id="Name" />
                      </b-form-group>
                    </b-col>
                  </b-row>
                  <b-row>
                    <b-col>
                      <b-form-group
                        id="fieldset-1"
                        label="Diagnosis"
                        label-for="role"
                      >
                        <b-form-input id="Name" type="text" />
                      </b-form-group>
                    </b-col>
                  </b-row>
                  <b-row>
                    <b-col>
                      <b-form-group
                        id="fieldset-1"
                        label="Equivalent to"
                        label-for="role"
                      >
                        <b-form-input id="Name" type="text" />
                      </b-form-group>
                    </b-col>
                  </b-row>
                </b-col>
                <b-col>
                  <b-row>
                    <b-col>
                      <b-form-group
                        id="fieldset-1"
                        label="Stop Date"
                        label-for="role"
                      >
                        <b-form-input id="Name" type="date" />
                      </b-form-group>
                    </b-col>
                    <b-col>
                      <b-form-group
                        id="fieldset-1"
                        label="Stop time"
                        label-for="role"
                      >
                        <b-form-input id="Name" type="time" />
                      </b-form-group>
                    </b-col>
                  </b-row>
                  <b-row>
                    <b-col>
                      <b-form-group
                        id="fieldset-1"
                        label="Size"
                        label-for="role"
                      >
                        <b-form-input id="Name" type="text" />
                      </b-form-group>
                    </b-col>
                    <b-col>
                      <b-form-group
                        id="fieldset-1"
                        label="Route"
                        label-for="role"
                      >
                        <b-form-input id="Name" type="text" />
                      </b-form-group>
                    </b-col>
                  </b-row>
                  <b-row>
                    <b-col>
                      <b-form-group
                        id="fieldset-1"
                        label="Remarks"
                        label-for="role"
                      >
                        <b-form-textarea id="Name" />
                      </b-form-group>
                    </b-col>
                  </b-row>
                  <b-row>
                    <b-col>
                      <b-form-group
                        id="fieldset-1"
                        label="Additional Remarks"
                        label-for="role"
                      >
                        <b-form-textarea id="Name" />
                      </b-form-group>
                    </b-col>
                  </b-row>
                </b-col>
              </b-row>
            </b-card>
          </b-col>
        </b-row>
        <b-row>
          <b-col class="mt-4">
            <b-card>
              <b-row>
                <b-col>
                  <b-form-group
                    id="fieldset-1"
                    label="Prescribed by"
                    label-for="role"
                  >
                    <b-form-input id="Name" />
                  </b-form-group>
                </b-col>
              </b-row>
              <b-row>
                <b-col>
                  <b-form-group
                    id="fieldset-1"
                    label="Rx Number"
                    label-for="role"
                  >
                    <b-form-input id="Name" />
                  </b-form-group>
                </b-col>
              </b-row>
              <b-row>
                <b-col>
                  <b-form-group
                    id="fieldset-1"
                    label="Follow up time"
                    label-for="role"
                  >
                    <b-form-input id="Name" />
                  </b-form-group>
                </b-col>
              </b-row>
              <b-row>
                <b-col>
                  <b-form-group
                    id="fieldset-1"
                    label="count per pass"
                    label-for="role"
                  >
                    <b-form-input id="Name" />
                  </b-form-group>
                </b-col>
              </b-row>
              <b-row>
                <b-col>
                  <b-form-group
                    id="fieldset-1"
                    label="Record site"
                    label-for="role"
                  >
                    <b-form-input id="Name" />
                  </b-form-group>
                </b-col>
              </b-row>
              <b-row>
                <b-col>
                  <b-form-group
                    id="fieldset-1"
                    label="Record units"
                    label-for="role"
                  >
                    <b-form-input id="Name" />
                  </b-form-group>
                </b-col>
              </b-row>
              <b-row>
                <b-col>
                  <b-form-group
                    id="fieldset-1"
                    label="Self/Other Admin"
                    label-for="role"
                  >
                    <b-form-input id="Name" />
                  </b-form-group>
                </b-col>
              </b-row>
              <b-row>
                <b-col>
                  <b-form-group
                    id="fieldset-1"
                    label="Vitals To Check At Time Of Pass"
                    label-for="role"
                  >
                    <b-form-input id="Name" />
                  </b-form-group>
                </b-col>
              </b-row>
            </b-card>
          </b-col>
          <b-col />
        </b-row>
      </b-container>
    </b-modal>
    <div class="row">
      <div class="col-lg-12 grid-margin stretch-card">
        <div class="card">
          <div class="card-body">
            <b-table striped responsive hover :items="myProvider">
              <template #cell(action)="data">
                <b-dropdown size="lg" variant="link" dropright toggle-class=" focus:bg-gray-200 hover:bg-gray-200 btn btn-sm btn-rounded btn-icon" no-caret>
                  <template #button-content>
                    <i class="mdi mdi-dots-vertical" />
                  </template>
                  <b-dropdown-item v-b-modal.EditResident href="#">Edit Details</b-dropdown-item>
                  <b-dropdown-item v-b-modal.AddContacts href="#">Add Contacts</b-dropdown-item>
                  <b-dropdown-item v-b-modal.AddMedication href="#">Add Medication</b-dropdown-item>
                  <b-dropdown-item v-b-modal.MoreDetails href="#" @click="getDetail(data.value)">More Details</b-dropdown-item>
                </b-dropdown>
              </template>
              <!-- <template #cell(name)>
              </template> -->
            </b-table>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  data() {
    return {
      residents: [
      ],
      contact: [
        { value: null, text: 'Select Type Of Contact' },
        { value: 'Personal', text: 'Personal' },
        { value: 'Physician', text: 'Physician' },
      ],
      medications: [
        {
          name: 'test',
          dosage_frequency: 'test',
          prescribed_by: 'test',
          start_stop: 'test',
          pass_times: 'test',
          actions: 'test',
        },
      ],
    };
  },
  mounted(){
    console.log(this.residents);
  },
  updated(){
    console.log(this.residents);
  },
  methods: {
    myProvider(ctx, callback) {
      this.$store.dispatch('User/Resident')
        .then(response => {
          console.log(response.data);
          const data = response.data;
          const items = [];
          data.forEach(element => {
            items.push(
              {
                name: element.first_name + ' ' + element.middle_name + ' ' + element.last_name,
                email: element.email,
                date_of_birth: element.dob,
                action: element.id,
              }
            );
          });
          callback(items);
          // return (items);
        })
        .catch(err => {
          console.log(err);
        });
    },
    getDetail(ctx) {
      console.log(ctx);
      this.$store.dispatch('User/SingleResident', ctx)
        .then(response => {
          // console.log(response.data);
          // callback(items);
          // return (items);
          this.residents = response.data;
        })
        .catch(err => {
          console.log(err);
        });
    },
  },
};

</script>
